# **Linux 系统编程笔记**
## **Linux vi/vim**
### **一、什么是 vim**
Vim 是从 vi 发展出来的一个文本编辑器。代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用

简单的来说， vi 是老式的字处理器，不过功能已经很齐全了，但是还是有可以进步的地方，vim 则可以说是程序开发者的一项很好用的工具
### **二、vim 的使用**
基本上 vi/vim 共分为三种模式，分别是命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）
* **命令模式**：
    * 用户刚刚启动 vi/vim，便进入了命令模式
        * 此状态下敲击键盘动作会被Vim识别为命令，而非输入字符
        * 比如我们此时按下i，并不会输入一个字符，i被当作了一个命令
        * 以下是常用的几个命令：
            * i 切换到输入模式，以输入字符
            * x 删除当前光标所在处的字符
            * : 切换到底线命令模式，以在最底一行输入命令
            若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式
        * 命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令
* **输入模式**
    * 在命令模式下按下i就进入了输入模式。
    * 在输入模式中，就和文本编辑操作基本一样
    * 在输入模式按下 ESC，退出输入模式，切换到命令模式
* **底线命令模式**
    * 在命令模式下按下:（英文冒号）就进入了底线命令模式
    * 底线命令模式可以输入单个或多个字符的命令，可用的命令非常多
    * 在底线命令模式中，基本的命令有
        * :q 退出程序
        * :w 保存文件
    * 按ESC键可随时退出底线命令模式
### **三、vim 快捷键**
* 跳转命令
    * 跳转到指定行
        * nG
        * :n
    * 跳转行首
        * gg
    * 跳转行尾
        * G
    * 跳转到对应的括号
        * %
    * 跳转到手册
        * K 可以指定卷，如nK
* 快捷操作命令
    * 自动化格式代码
        * gg=G 命令模式
    * 撤销操作
        * u 撤销单次操作
        * ctrl+r 反撤销操作
    * 分屏操作
        * ctrl+w+w 切换分屏
        * :sp 横屏
        * :vsp 竖屏
    * 查看宏定义
        * 光标放在宏上按下[d可快速查看宏定义
* 文本操作命令
    * 删除单个字符
        * x
    * 删除一个单词
        * dw
    * 复制一个单词
        * yw
    * 删除光标至行尾
        * D 或者 d$
    * 删除光标至行首
        * d0
* 选择一片区域
    * 按下 v 可以进入可视模式，可以选择一片区域，按 d 删除
    * 按下 V 默认会先选中当前行
* 查找光标处的单词
    * 将光标放在需要查找的单词上，按下`*`查找下面的同一个单词，按下`#`查找上面的同一个单词
    * 命令模式下按下/ 输入需要查找的单词，按下n查找下一个
* 替换单词
    * 单行替换:s /需要替换的单词/替换的内容/g
    * 通篇替换:%s /需要替换的单词/替换的内容/g，加上g会全局替换，不加g就只替换每一行的首个单词
    * 通篇替换:起始行号,终止行号s /需要替换的单词/替换的内容/g