# **Linux 系统编程笔记**
## **Linux 基本命令与介绍**
### **一、Linux 系统目录**
* / 根目录
    * 一般根目录下只存放目录，有且只有一个根目录
    * 所有的东西都是从根目录开始
* /bin: /usr/bin 存放二进制可执行程序
    * 常用的unix命令(ls,echo,bash,mv,rm)
* /boot 存放系统启动时用到的一些文件
    * 如 : Linux的内核文件 /boot/vmlinuz
    * 如 : 系统引导管理器 /boot/grub
* /dev 存放设备文件、字符设备、块设备
    * 访问该目录下某个文件，相当于访问某个设备
    * 如 : 挂载光驱 mount /dev/cdrom /mnt
* /home 存放系统默认的用户家目录
    * 新增用户账号时，用户的家目录都存放在此目录下
    * ~表示当前用户的家目录，~user 表示用户 user 的家目录
* /etc 用户信息和系统配置文件
    * 例如密码文件/etc/passwd ,常用的hosts配置文件
* /lib: /usr/lib: /usr/local/lib 存放系统使用的函数库的目录
    * 程序在执行过程中，需要调用一些额外的参数时需要函数库的协助
* /root 系统管理员root的家目录
* /sbin: /usr/sbin: /usr/local/sbin 放置系统管理员使用的可执行命令
    * 如fdisk、shutdown、mount 等
    * 与 /bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能”查看”而不能设置和使用
* /proc 此目录的数据都在内存中
    * 如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间
    * 比较重要的目录有 /proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等
* /usr 应用程序存放目录
    * /usr/bin 存放应用程序
    * /usr/share 存放共享数据
    * /usr/lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件
    * /usr/local 存放软件升级包
    * /usr/share/doc 系统说明文件存放目录
    * /usr/share/man 程序说明文件存放目录
* /var：放置系统执行过程中经常变化的文件
    * /var/log 随时更改的日志文件 
    * /var/log/message 所有的登录文件存放目录 
    * /var/spool/mail 邮件存放的目录 
    * /var/run 程序或服务启动后，其PID存放在该目录下
---
### **二、Linux 文件基本属性**
* linux 下有7或者8种文件类型
    * 使用命令 `ll`( `ls -l` 的别名) 可以显示文件类型
        * `-` 普通文件
        * `d` 目录文件
        * `c` 字符设备文件
        * `b` 块设备文件
        * `l` 软链接
        * `p` 管道文件
        * `s` 套接字
        * 未知文件

    ```shell
    [root@localhost ~]# ll
    total 0
    -rw-r--r-- 1 root root 0 Jan  3 15:39 test2.c
    -rw-r--r-- 1 root root 0 Jan  3 15:39 test.c
    [root@localhost ~]# 
    ```
    * 使用 `ll` 命令时，不仅可以显示文件类型，还会显示详细信息
        * 文件权限 -rw-r--r--
        * 硬链接计数 1
        * 所有者 root
        * 所属者 root
        * 大小 0
        * 时间 Jan  3 15:39
        * 文件名/文件夹 test.c
---
### **三、文件与目录管理**
1. ### 列出文件 `ls` 命令
    ```shell
    [root@localhost ~]# ls
    test2.c  test.c
    [root@localhost ~]# ls -l
    total 0
    -rw-r--r-- 1 root root 0 Jan  3 15:39 test2.c
    -rw-r--r-- 1 root root 0 Jan  3 15:39 test.c
    [root@localhost ~]# 
    ```
    * 相关命令参数
        * `ls 选项` 列出指定目录下的目录项，不加选项显示当前目录下的目录项
        * `ls -l 选项` 显示指定目录项详细信息
        * `ls -dl 选项` 显示指定目录的详细信息
        * `ls -R 选项` 递归查看指定目录
        * `ls -Rl 选项` 递归查看指定目录下的目录项有关详细信息
2. ### 切换目录 `cd` 命令
    * `cd 选项` 切换到某个目录
    * `cd -` 返回上一个工作目录
    * `cd ~` 返回家目录
3. ### 显示工作目录 `pwd` 命令
    * `pwd` 显示目前所在目录的命令
    * `pwd -P` 显示出确实的路径，而非使用链接 (link) 路径
4. ### 创建目录 `mkdir` 命令
    * `mkdir 选项` 创建目录
    * `mkdir -m 选项` 创建目录并配置文件的权限
    * `mkdir -p 选项` 递归创建目录
5. ### 删除空目录 `rmdir` 命令
    * `rmdir 选项` 删除空目录
    * `rmdir -p 选项` 递归删除空目录
6. ### 拷贝 `cp` 命令
    * 相关命令参数
        * `cp 源目录项 目标目录项` 复制源目录项到目标目录项处
        * `cp -a 源目录 目标目录` 复制源目录其下所有文件到目标目录
            * -a是完全复制，文件权限和改动时间等完全相同
        * `cp -r 源目录 目标目录` 递归复制源目录到目标目录
        * 其他参数
            * -i 若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
            * -f 为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次
            * -l 进行硬式链接(hard link)的链接档创建，而非复制文件本身
            * -d 若来源档为链接档的属性(link file)，则复制链接档属性
而非文件本身
            * -s 复制成为符号链接档 (symbolic link)
7. ### 删除 `rm` 命令
    * `rm -f 选项` 忽略不存在的文件，不会出现警告信息；
    * `rm -i 选项` 互动模式，在删除前会询问使用者是否动作
    * `rm -r 选项` 递归删除
8. ### 移动 `mv` 命令
    * `mv 选项 选项` 可以移动文件，也可以用于给文件改名
    * `mv -f 选项 选项` 如果目标文件已经存在，不会询问而直接覆盖
    * `mv -i 选项 选项` 若目标文件 (destination) 已经存在时，就会询问是否覆盖
7. ### 查看文件内容 `cat` 和 `tac` 命令
    * `cat 选项` 查看文件内容
        * -n 参数可以显示行号
        * -A 相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已
        * -b ：列出行号，仅对非空白行显示行号
        * -n 列印出行号，连同空白行也会有行号
        * -E 将结尾的断行字节 $ 显示出来；
        * -T 将 [tab] 按键以 ^I 显示出来；
        * -v 列出一些看不出来的特殊字符
    * `tac 选项` 从最后一行开始显示，tac 是 cat 倒着写的
    * 其他查看命令
        * `nl` 显示的时候，顺道输出行号
        * `more` 一页一页的显示文件内容
        * `less` 与 more 类似，但是比 more 更好的是，他可以往前翻页
        * `head` 只看前面十行，-n 指定行数
        * `tail` 只看后面十行，-n 指定行数