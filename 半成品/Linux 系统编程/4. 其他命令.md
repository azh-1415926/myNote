# **Linux 系统编程笔记**
## **qita**
### **一、其他命令**
8. ### 链接 `ln` 命令
    * 链接分为软连接和硬链接，用于解决文件的共享使用
        * 硬链接是指通过索引节点来进行链接
            * 在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都会给它分配一个编号，这个编号被称为索引节点编号
            * 它是文件或者目录在一个文件系统中的唯一标识，文件的实际数据放置在数据区域
            * 硬链接的作用之一是允许一个文件拥有多个有效路径名
            * 硬链接只能在同一文件系统中的文件之间进行链接，不能对目录进行创建
            * 只有当最后一个链接被删除后，此时如果有新数据要存储到磁盘上，被删除的文件的数据块及目录的链接才会被释放，空间被新数据暂用覆盖
        * 软链接也叫符号链接
            * 它类似于windows系统中的快捷方式，存放的内容是另一文件的路径名的指向，通过这个方式可以快速定位到软连接所指向的源文件实体
            * 软链接可对文件或目录创建
            * 软链接便于文件的管理，比如把一个复杂路径下的文件链接到一个简单路径下方便用户访问
            * 节省空间解决空间不足问题
            * 删除软链接并不影响被指向的文件，但若被指向的原文件被删除，则相关软连接就变成了死链接
    * 软硬链接的优缺点
        * 硬链接
            * 以文件副本的形式存在，但不占用实际空间
            * 不支持对目录创建硬链接
            * 只有在同一个文件系统中才能创建
            * 删除其中一个硬链接文件并不影响其他有相同 inode 号的文件
        * 软链接
            * 支持跨文件系统创建
            * 支持对目录进行链接
            * 软链接支持对一个不存在的文件名进行链接，而硬链接必须要有源文件
    * 软硬链接的创建
    ```shell
    # 创建一个软链接
    ln -s source target
    # 创建一个硬链接
    ln source target
    ```
### **五、进阶命令**
8. ### 查找指定文件 `find` 命令
    * 相关命令参数
        * `-type` 按文件类型搜索
            * 类型有
            * d 目录文件
            * p 管道文件
            * s 套接字文件
            * c 字符设备文件
            * b 块设备文件
            * l 软链接文件
            * f 普通文件
        * `-name` 按文件名搜索
        * `-maxdepth` 指定搜索深度，需作为第一个参数出现
        * `-size` 按文件大小搜索
            * `find /home/ -size +20M -size -50M`
        * `-atime、-mtime、-ctime` 天
        * `-amin、-mmin、-cmin` 分钟
            * a 表示最近访问时间
            * m 表示最近更改时间
                * 指更改文件属性一类的
            * c 表示最近改动时间
                * 指更改文件内容
        * `-exec 命令 {} \;`将搜索结果执行之后的命令
            * 将当前文件夹中a开头的所有文件找出
            * 再用 `ls -l` 列出
            * 例如 : `find ./ -name "a*" -exec ls -l {} \;`
        * `-ok 命令 {} \;`类似 -exec 只不过增加了询问的操作
            * `find ./ -name "a*" -ok rm -r {} \;`

9. ### 查找文件内容 grep 命令

10. ### 显示进程 ps 命令
    * 相关命令参数
        * -e 显示所有进程
        * -f 全格式
        * -h 不显示标题
        * -l 长格式
        * -w 宽输出
        * -r 只显示正在进行的进程
        * -a 查看当前系统所有用户的所有进程
        * -u 查看进程所有者以及其他一些详细信息
        * -x 显示没有控制终端的进程

11. ### xargs 参数
    * xargs（英文全拼： eXtended ARGuments）是给命令传递参数的一个过滤器，也是组合多个命令的一个工具
    * xargs 可以将管道或标准输入（stdin）数据转换成命令行参数，也能够从文件的输出中读取数据
    * xargs 也可以将单行或多行文本输入转换为其他格式，例如多行变单行，单行变多行
    * xargs 默认的命令是 echo，这意味着通过管道传递给 xargs 的输入将会包含换行和空白，不过通过 xargs 的处理，换行和空白将被空格取代
    * xargs 是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令
    * 之所以能用到这个命令，关键是由于很多命令不支持 | 管道来传递参数，而日常工作中有有这个必要，所以就有了 xargs 命令，例如
`find ./ -type f | xargs ls -l`

`find ./ -type f -print0 | xargs -print0 ls -l`

12. ### 压缩 tar 命令

压缩成gzip格式

`tar -zcvf filename.tar.gz file1 file2 file3`

压缩成bzip2格式

`tar -jcvf filename.tar.gz file1 file2 file3`

解压

`tar -zxvf filename.tar.gz file1 file2 file3`

`tar -jxvf filename.tar.gz file1 file2 file3`